{% extends 'base.html' %}
{% block content %}
<style>
    .blog-list-container {
        max-width: 900px;
        margin: 40px auto;
        padding: 0 16px;
    }
    .blog-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 24px;
    }
    .blog-header svg {
        flex-shrink: 0;
    }
    .categories {
        margin-bottom: 18px;
        font-size: 1.05em;
    }
    .categories a {
        background: #6366f1;
        color: #fff;
        border-radius: 8px;
        padding: 4px 14px;
        margin: 0 6px;
        text-decoration: none;
        font-weight: 500;
        transition: background 0.2s;
    }
    .categories a:hover {
        background: #818cf8;
    }
    .blog-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 28px;
    }
    .blog-card {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 4px 24px rgba(44,62,80,0.10);
        padding: 28px 24px 18px 24px;
        position: relative;
        transition: box-shadow 0.2s, transform 0.2s;
        display: flex;
        flex-direction: column;
        min-height: 220px;
        animation: fadeIn 0.8s;
    }
    .blog-card:hover {
        box-shadow: 0 8px 32px rgba(99,102,241,0.18);
        transform: translateY(-4px) scale(1.02);
    }
    .blog-card-title {
        font-family: 'Montserrat', Arial, sans-serif;
        font-size: 1.3em;
        color: #2d2e32;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .blog-card-meta {
        font-size: 0.98em;
        color: #6366f1;
        margin-bottom: 10px;
        display: flex;
        gap: 16px;
        align-items: center;
    }
    .blog-card-content {
        color: #444;
        margin-bottom: 16px;
    }
    .blog-card-actions {
        margin-top: auto;
        display: flex;
        gap: 16px;
        align-items: center;
    }
    .blog-card-actions a {
        color: #6366f1;
        text-decoration: underline;
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 4px;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
<div class="blog-list-container">
    <div class="blog-header">
        <svg width="36" height="36" fill="#6366f1" viewBox="0 0 24 24"><path d="M4 4h16v2H4zm0 4h16v2H4zm0 4h10v2H4zm0 4h10v2H4z"/></svg>
        <h2 style="margin:0;">Noticias y Blog</h2>
    </div>
    <div class="categories">
        <span><svg width="18" height="18" fill="#6366f1" viewBox="0 0 20 20"><circle cx="10" cy="10" r="8"/></svg> Categorías:</span>
        {% for category in categories %}
            <a href="?category={{ category.id }}">{{ category.name }}</a>
        {% endfor %}
    </div>
    <div class="blog-cards">
        {% for post in page_obj %}
        <div class="blog-card">
            {% if post.thumbnail %}
                <img src="{{ post.thumbnail.url }}" alt="Miniatura" style="max-width:100%;max-height:120px;border-radius:12px;margin-bottom:10px;object-fit:cover;">
            {% endif %}
            <div class="blog-card-title">
                <svg width="20" height="20" fill="#6366f1" viewBox="0 0 20 20"><rect x="2" y="4" width="16" height="12" rx="4"/></svg>
                <a href="{{ post.get_detail_url }}">{{ post.title }}</a>
            </div>
            <div class="blog-card-meta">
                <span><svg width="16" height="16" fill="#6366f1" viewBox="0 0 20 20"><path d="M6 2v2M14 2v2M3 6h14v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6z"/></svg> {{ post.created_at|date:'d M Y H:i' }}</span>
                {% if post.category %}<span><svg width="16" height="16" fill="#6366f1" viewBox="0 0 20 20"><circle cx="10" cy="10" r="8"/></svg> {{ post.category.name }}</span>{% endif %}
                {% if post.tags.all %}
                    <span>
                        <svg width="16" height="16" fill="#6366f1" viewBox="0 0 20 20"><rect x="2" y="4" width="16" height="12" rx="4"/></svg>
                        {% for tag in post.tags.all %}
                            <span style="background:#e0e7ff;color:#6366f1;padding:2px 8px;border-radius:8px;margin-right:4px;">{{ tag.name }}</span>
                        {% endfor %}
                    </span>
                {% endif %}
            </div>
            <div class="blog-card-content">{{ post.content|truncatewords:30 }}</div>
            <div class="blog-card-actions">
                <a href="{{ post.get_detail_url }}"><svg width="16" height="16" fill="#6366f1" viewBox="0 0 20 20"><path d="M10 2a8 8 0 1 0 8 8h-2a6 6 0 1 1-6-6V2z"/></svg> Leer más</a>
                <a href="{{ post.get_share_url }}"><svg width="16" height="16" fill="#6366f1" viewBox="0 0 20 20"><path d="M15 8a3 3 0 0 0-2.83 2H7.83A3 3 0 1 0 5 15a3 3 0 0 0 2.83-2h4.34A3 3 0 1 0 15 8z"/></svg> Compartir</a>
            </div>
        </div>
        {% endfor %}
    </div>
    <div style="text-align:center; margin:32px 0;">
        <div class="pagination" style="display:inline-flex; gap:8px;">
            {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}" style="background:#6366f1;color:#fff;padding:6px 14px;border-radius:8px;text-decoration:none;">&laquo; Anterior</a>
            {% endif %}
            <span style="background:#e0e7ff;color:#6366f1;padding:6px 14px;border-radius:8px;">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" style="background:#6366f1;color:#fff;padding:6px 14px;border-radius:8px;text-decoration:none;">Siguiente &raquo;</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}